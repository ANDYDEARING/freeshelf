{% extends "base.html" %}

{% block content %}
  <h1>Welcome to FreeShelf</h1>
  <p>a website developed by <em>Andy Dearing</em>!</p>
  {% if book_list %}
  <div>
    <p>Sort by:
    {% for sort in sort_types %}
      {% if sort == sort_by %}
        <strong>{{sort}}</strong>
      {% else %}
        <a href="?sort_by={{sort}}"> {{sort}} </a>
      {% endif %}
    {% endfor %}
    </p>
  </div>
  <ul class="book-list">
    {% for book in book_list %}
      <li>
        {% if book.image_url %}<img src="{{book.image_url}}">{% endif %}
        <div class='book-info'>
          <strong>{{ book.title}}</strong> by {{ book.author }} 
          <br>
          <a href="{{ book.url }}">{{book.url}}</a>
          <br>
          {{ book.description }}
          <br>
          <p>
            <strong>Categories: </strong>
            {% for type in book.category.all %}
              <a href="">{{ type }}</a>
            {% endfor %}
          </p>
          <br>
          <i>Added at {{ book.added_at }}</i>
        </div>
      </li>
    {% endfor %}
  </ul>
  {% else %}
    <p>There are no books.</p>
  {% endif %}       
{% endblock %}